---
import BaseLayout from '../layouts/BaseLayout.astro';
import HorizontalCard from '../components/HorizontalCard.astro';
import { getCollection } from 'astro:content';

const last_posts = (await getCollection('blog'))
	//* Sort by date
	.sort((a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf())
	//* Get newest 3 ones
	.slice(0, 3);
---

<BaseLayout>
	<div class="pb-12 mt-5">
		<div class="text-5xl font-bold">Hi, I'm Felipe</div>
		<div class="text-1xl py-3">"Science isn't about why, it's about why not" - Cave Johnson</div>
		<div class="py-2">
			<text class="text-lg">
				I'm a Software Developer who's experienced in taking fullstack applications from scratch to production. Currently working as
				a full-time software developer to a car tracking and monitoring company, and developing games as a hobbyist GameDev on my
				free time.
			</text>
		</div>
		<div class="py-2">
			<text class="text-lg">
				Over the last 6 years, I've had the opportunity to develop a few awesome projects and continue to do so today. My work area
				includes mobile, web and desktop apps, development of backend servers and handling DevOps and scalable infrastructues.
			</text>
		</div>
	</div>

	<div>
		<div class="text-3xl w-full font-bold mb-2">My last projects {'</>'}</div>
	</div>

	<HorizontalCard
		title="Crygotchi"
		img="/projects/crygotchi.png"
		desc="A casual room building, decoration and virtual pet game"
		url="/projects/crygotchi"
		target="_self"
		badge="FOSS"
	/>
	<!-- <div class="divider my-0"></div> -->

	<div>
		<div class="text-3xl w-full font-bold mb-5 mt-10">Latest from blog</div>
	</div>

	{
		last_posts.map((post) => (
			<>
				<HorizontalCard
					title={post.data.title}
					img={post.data.heroImage}
					desc={post.data.description}
					url={'/blog/' + post.slug}
					target="_self"
					badge={post.data.badge}
				/>
				<div class="divider my-0" />
			</>
		))
	}
</BaseLayout>
