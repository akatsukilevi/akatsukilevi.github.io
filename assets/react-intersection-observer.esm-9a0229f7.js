import{r as l}from"./vendor-a4a53e21.js";var w=new Map,h=new WeakMap,p=0,A=void 0;function C(e){return e?(h.has(e)||(p+=1,h.set(e,p.toString())),h.get(e)):"0"}function $(e){return Object.keys(e).sort().filter(function(t){return e[t]!==void 0}).map(function(t){return t+"_"+(t==="root"?C(e.root):e[t])}).toString()}function x(e){var t=$(e),r=w.get(t);if(!r){var i=new Map,u,o=new IntersectionObserver(function(d){d.forEach(function(n){var a,s=n.isIntersecting&&u.some(function(f){return n.intersectionRatio>=f});e.trackVisibility&&typeof n.isVisible>"u"&&(n.isVisible=s),(a=i.get(n.target))==null||a.forEach(function(f){f(s,n)})})},e);u=o.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),r={id:t,observer:o,elements:i},w.set(t,r)}return r}function B(e,t,r,i){if(r===void 0&&(r={}),i===void 0&&(i=A),typeof window.IntersectionObserver>"u"&&i!==void 0){var u=e.getBoundingClientRect();return t(i,{isIntersecting:i,target:e,intersectionRatio:typeof r.threshold=="number"?r.threshold:0,time:0,boundingClientRect:u,intersectionRect:u,rootBounds:u}),function(){}}var o=x(r),d=o.id,n=o.observer,a=o.elements,s=a.get(e)||[];return a.has(e)||a.set(e,s),s.push(t),n.observe(e),function(){s.splice(s.indexOf(t),1),s.length===0&&(a.delete(e),n.unobserve(e)),a.size===0&&(n.disconnect(),w.delete(d))}}function j(e){var t,r=e===void 0?{}:e,i=r.threshold,u=r.delay,o=r.trackVisibility,d=r.rootMargin,n=r.root,a=r.triggerOnce,s=r.skip,f=r.initialInView,R=r.fallbackInView,E=r.onChange,I=l.useState(null),g=I[0],k=I[1],b=l.useRef(),O=l.useState({inView:!!f,entry:void 0}),y=O[0],S=O[1];b.current=E,l.useEffect(function(){if(!(s||!g)){var v;return v=B(g,function(_,V){S({inView:_,entry:V}),b.current&&b.current(_,V),V.isIntersecting&&a&&v&&(v(),v=void 0)},{root:n,rootMargin:d,threshold:i,trackVisibility:o,delay:u},R),function(){v&&v()}}},[Array.isArray(i)?i.toString():i,g,n,d,a,s,o,R,u]);var M=(t=y.entry)==null?void 0:t.target;l.useEffect(function(){!g&&M&&!a&&!s&&S({inView:!!f,entry:void 0})},[g,M,a,s,f]);var c=[k,y.inView,y.entry];return c.ref=c[0],c.inView=c[1],c.entry=c[2],c}export{j as u};
